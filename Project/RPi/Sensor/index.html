<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPIO Control</title>
</head>
<body>
    <h1>GPIO Control</h1>

    <!-- 센서값 표시 -->
    <h2>Sensor Data</h2>
    <p><strong>Timestamp:</strong> {{ sensor_data['timestamp'] }}</p>
    <p><strong>Soil 1:</strong> {{ sensor_data['soil1'] }}</p>
    <p><strong>Soil 2:</strong> {{ sensor_data['soil2'] }}</p>
    <p><strong>Water Level:</strong> {{ sensor_data['water'] }}</p>
    <p><strong>Temperature:</strong> {{ sensor_data['temp'] }} °C</p>
    <p><strong>Humidity:</strong> {{ sensor_data['humi'] }} %</p>

    <h2>GPIO Control</h2>
    <form action="/control" method="POST">
        <label for="a">Pin 16:</label>
        <button type="submit" name="a" value="1">ON</button>
        <button type="submit" name="a" value="0">OFF</button><br><br>

        <label for="b">Pin 20:</label>
        <button type="submit" name="b" value="1">ON</button>
        <button type="submit" name="b" value="0">OFF</button><br><br>

        <label for="c">Pin 21:</label>
        <button type="submit" name="c" value="1">ON</button>
        <button type="submit" name="c" value="0">OFF</button><br><br>

        <label for="d">Pin 26:</label>
        <button type="submit" name="d" value="1">ON</button>
        <button type="submit" name="d" value="0">OFF</button><br><br>
    </form>

    <h2>Current State</h2>
    <p>Pin 16: {{ state[16] }}</p>
    <p>Pin 21: {{ state[21] }}</p>
    <p>Pin 20: {{ state[20] }}</p>
    <p>Pin 26: {{ state[26] }}</p>
</body>
</html>
